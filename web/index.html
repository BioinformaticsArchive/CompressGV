<!DOCTYPE html>
<html>
	<head>
		<title>CompressGV</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<style>
			body {
				padding: 40px 0px;
			}
		</style>
	</head>
	<body data-version='master'>
	
		<div class="container-fluid">
		
			<div class="navbar">
				<div class="navbar-inner navbar-fixed-top">
					<span class="brand">CompressGV</span>
				</div>
			</div>
			
			<div class="navbar">
				<div class="navbar-inner navbar-fixed-bottom">
					<ul class="nav">
						<li class="navbar-text">Revision: GIT-COMMIT-HASH &copy <span id="year">2013</span> <a href="http://arranschlosberg.com" style="display: inline;">Arran Schlosberg</a></li>
						<li class="divider-vertical"><a href="https://raw.github.com/aschlosberg/CompressGV/master/LICENSE">License</a></li>
					</ul>
				</div>
			</div>
			
			<div class="row-fluid">
				<div class="span2">
					<div class="well">
					<ul id="nav" class="nav nav-list">
						<li><a href="#intro"><i class="icon-home"></i> Introduction</a></li>
						<li class="divider"></li>
						<li><a href="#use"><i class="icon-wrench"></i> Use CompressGV</a></li>
						<li><a href="#" id="demo"><i class="icon-play-circle"></i> Run Demo</a></li>
						<li class="divider"></li>
						<li><a href="#download"><i class="icon-download-alt"></i> Download Source</a></li>
						<li><a href="#help"><i class="icon-info-sign"></i> Help</a></li>
					</ul>
					</div>
				</div>
				<div id="container" class="span10">

<div>
	<a name="intro"></a>
	<div class="hero-unit">
		<h1>CompressGV</h1>
		<br />
		<p>
			...is browser-based and desktop software for the classification of novel non-synonymous single-nucleotide polymorphisms (nsSNPs).
		</p>
		<h3>Demo</h3>
		<ol>
			<li>Use the example data by clicking the relevant links to copy into the respective input boxes; OR</li>
			<li>Click "Run Demo" in the main menu to automatically copy all example data and run the classification.</li>
		</ol>
		</p>			
		<h3>Citation</h3>
		<p>Publication pending; accepted 4<sup>th</sup> May, 2014 for publication in the special issue <a href="http://www.mdpi.com/journal/ijms/special_issues/disease-diagnostics">Human Single Nucleotide Polymorphisms and Disease Diagnostics</a>.</p>
		<p class="well">Schlosberg, A.; Lam, B.Y.H.; Yeo, G.S.H.; Clifton-Bligh, R.J.; DEFLATE compression algorithm corrects for overestimation of phylogenetic diversity by Grantham approach to single-nucleotide polymorphism classification. <em>Int. J. Mol. Sci.</em> Forthcoming 2014.</p>
		<h3>Compatibility</h3>
		<p>We have tested the CompressGV web interface in the following browsers. Please help us with the testing process by clicking the appropriate button.</p>
		<ul class="pull-left">
			<li>Windows 7
				<ul>
					<li>Chrome 34+</li>
					<li>Internet Explorer 11+</li>
				</ul>
			</li>
			<li>Linux (Ubuntu)
				<ul>
					<li>Chromium 34+</li>
					<li>Firefox 29+</li>
				</ul>
			</li>
		</ul>
		<div id="compatibile" class="pull-right">
				<p><a href="./compatible.php?c=1" class="btn btn-primary pull-right">CompressGV works in my browser</a></p>
				<br />
				<p><a href="./compatible.php?c=0" class="btn btn-danger pull-right">CompressGV does not work in my browser</a></p>
		</div>
		<div class="clearfix"></div>
	</div>
</div>

<div>
	<a name="use"></a>
	<div class="page-header">
		<h1>Use CompressGV</h1>
	</div>
	
	<div class="tabbable tabs-left">
		<ul id="tabs" class="nav nav-tabs">
			<li class="active"><a href="#msa" data-toggle="tab"><i class="icon-tasks"></i> Sequence Alignment</a></li>
			<li><a href="#del" data-toggle="tab"><i class="icon-thumbs-down"></i> Deleterious nsSNPs</a></li>
			<li><a href="#neut" data-toggle="tab"><i class="icon-thumbs-up"></i> Neutral nsSNPs</a></li>
			<li><a href="#novel" data-toggle="tab"><i class="icon-question-sign"></i> Novel nsSNPs</a></li>
			<li><a id="runLink" href="#run" data-toggle="tab"><i class="icon-play"></i> Run CompressGV</a></li>
			<li><a id="resultLink" href="#results" data-toggle="tab"><i class="icon-list-alt"></i> Results</a></li>
			<li><a id="probLink" href="#probability" data-toggle="tab"><i class="icon-info-sign"></i> Interpret Results</a></li>
		</ul>
		<div class="tab-content">
			<div class="tab-pane active" id="msa">
				<textarea placeholder="Please provide a multiple-species sequence alignment with your reference species first."></textarea>
				<p>Alignments can be in FASTA format or with each species on a single line with no additional characters.</p>
				<p>Example of FASTA format:</p>
<pre class="example">
&gt;sp|O75445|USH2A_HUMAN Usherin OS=Homo sapiens (segments corresponding to example SNPs only)
ACVGLERSCRNTNSCREGRCLCHGFCPTPPLRTIVIIARARLNTRDNCCCEPWTTMGTSRPTTTYQRLPG
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQRLPQ
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGLCPTPPLRTIVTLAHALFNARDDCCCAPWTAKGTSLPTTTYQRLPQ
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLRIIVTVAHALFNTRDDCCCAPWTAVGTSRPSTTYRRLPQ
&gt;sp|ABC123
ACVGLERSCRNTHSCREGRCLCHGFCPTPPLRMVVTVVHAMFNTRDDCCCAPWTAMGTSRPTTTYQRLPQ
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQR---
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQR---
&gt;sp|ABC123
-----------------------------P---IVTIARARFNTRDNCCCAPWTTMGTSRPTTTYQRLPK
&gt;sp|ABC123
-----------------------GFCPTPPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQRLPQ
&gt;sp|ABC123
-----------------------GFCPTPPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQRLPQ
&gt;sp|ABC123
TCVGLDRSCRNTHSCREGRCLCHGFCPAPPVSEIVTLASALFQAREDCCCAPWTTLGTSRPTTTYRRLPQ
&gt;sp|ABC123
VCVGLERSCRNTHSCREGRCLCHGFCPSPPLRAIVTLAHALFNIRDDCCCAAWTSVGTSRPTTTYRRLPQ
&gt;sp|ABC123
VCVGLERSCRNTHSCREGRCLCHGFCPSPPLRAIVTLAHALFNIRDDCCCAAWTSVGTSRPTTTYRRLPQ
&gt;sp|ABC123
----------------------------PPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQR---
&gt;sp|ABC123
ACVGLERSCRNTHSCREGRCLCHGFCPTPPLRMVVTVVHAMFNTRDDCCCAPWT----------------
&gt;sp|ABC123
TCVGLERSCRNTRSCREGRCLCHGFCPTPPLRRVVTLAHALFNARDDCCC--------------------
&gt;sp|ABC123
------------------------------------VVHALFNARDDCCCAPWTDMGTSRPTTTYQRLPQ
&gt;sp|ABC123
--------------------LCHGFCPTPPLSTNVNSIKALFNQRANCCCAPWTNEGTSHPTTTYQRLPT
&gt;sp|ABC123
TCVGLDRSCRNTNSCRWGRCLCHGFCPMPPLHKLVTVARVLFNARDTCCC--------------------
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGFCPTPP--TTVTLA-ALFNIR-------------------------
&gt;sp|ABC123
VVVGLELGCRNTSSCRDGRCLCHGSCPLAPQSEADVLLHAVINA-QNCCCSP-TCSGVGRPTTTSNLLPD
&gt;sp|ABC123
-----------------------------------TLA-ALFNIRNECCCAPWTAEGTS-----------
&gt;sp|ABC123
---GLERSCRNTRSCREGRCLCHGWCPTPP----------------------------------------
&gt;sp|ABC123
---GLERSCRNTHSCREGRCLCHGLCPTPP----------------------------------------
&gt;sp|ABC123
VCVGLERSCRNTHSCREGRCLCHGFCPSPP----------------------------------------
&gt;sp|ABC123
TCVGLERSCRNTHSCREGRCLCHGLCPSPP----------------------------------------
&gt;sp|ABC123
---GLERSCRNTRSCREGRCLCHGFCPTPP----------------------------------------
&gt;sp|ABC123
--VGLERSCRNTHTVREGRCLCHGLCPSPP----------------------------------------
&gt;sp|ABC123
---------------------------------TV-LAHA------------------------------
&gt;sp|ABC123
------------------------------------LAHA------------------------------
&gt;sp|ABC123
----------------------------------VAIAS-------------------------------
&gt;sp|ABC123
----------------------------------VTLAH-------------------------------
&gt;sp|ABC123
----------------------------------LTLAH-------------------------------
&gt;sp|ABC123
----LERSCRNTH-------LCHGFCPS------------------------------------------
&gt;sp|ABC123
----------------------------------VTLAH-------------------------------
&gt;sp|ABC123
--------------------LCHGFCPS------------------------------------------
&gt;sp|ABC123
---------------------------------------------------PWT----------------
&gt;sp|ABC123
--VGLELGCRNTSSCRDGRCY-------------------------------------------------
&gt;sp|ABC123
---GIERGCRTTAGCGDGRCMCHG----------------------------------------------
&gt;sp|ABC123
-----------------------GFCPT------------------------------------------
&gt;sp|ABC123
----------------------------------------------DCCC--------------------
&gt;sp|ABC123
----------------------------------------------------------------------
&gt;sp|ABC123
--VGLERSCRNTH---------------------------------------------------------
&gt;sp|ABC123
TCL-------------------------------------------------------------------
&gt;sp|ABC123
--VGLERSCRNTQ---------------------------------------------------------
&gt;sp|ABC123
-------------------CMCHG----------------------------------------------
&gt;sp|ABC123
-------------------CMCHG----------------------------------------------
&gt;sp|ABC123
--IGLDRSCRNTH---------------------------------------------------------
</pre>
				<p>Example of single-line format:</p>
<pre class="example">
ACVGLERSCRNTNSCREGRCLCHGFCPTPPLRTIVIIARARLNTRDNCCCEPWTTMGTSRPTTTYQRLPG
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQRLPQ
TCVGLERSCRNTHSCREGRCLCHGLCPTPPLRTIVTLAHALFNARDDCCCAPWTAKGTSLPTTTYQRLPQ
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLRIIVTVAHALFNTRDDCCCAPWTAVGTSRPSTTYRRLPQ
ACVGLERSCRNTHSCREGRCLCHGFCPTPPLRMVVTVVHAMFNTRDDCCCAPWTAMGTSRPTTTYQRLPQ
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQR---
TCVGLERSCRNTHSCREGRCLCHGFCPTPPLTKIVTVAHALFNTREDCCCAPWTAMGTSRPTTTYQR---
-----------------------------P---IVTIARARFNTRDNCCCAPWTTMGTSRPTTTYQRLPK
-----------------------GFCPTPPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQRLPQ
-----------------------GFCPTPPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQRLPQ
TCVGLDRSCRNTHSCREGRCLCHGFCPAPPVSEIVTLASALFQAREDCCCAPWTTLGTSRPTTTYRRLPQ
VCVGLERSCRNTHSCREGRCLCHGFCPSPPLRAIVTLAHALFNIRDDCCCAAWTSVGTSRPTTTYRRLPQ
VCVGLERSCRNTHSCREGRCLCHGFCPSPPLRAIVTLAHALFNIRDDCCCAAWTSVGTSRPTTTYRRLPQ
----------------------------PPLRMIVTVAHALFNTRDDCCCAAWTAVGTSRPSTTYQR---
ACVGLERSCRNTHSCREGRCLCHGFCPTPPLRMVVTVVHAMFNTRDDCCCAPWT----------------
TCVGLERSCRNTRSCREGRCLCHGFCPTPPLRRVVTLAHALFNARDDCCC--------------------
------------------------------------VVHALFNARDDCCCAPWTDMGTSRPTTTYQRLPQ
--------------------LCHGFCPTPPLSTNVNSIKALFNQRANCCCAPWTNEGTSHPTTTYQRLPT
TCVGLDRSCRNTNSCRWGRCLCHGFCPMPPLHKLVTVARVLFNARDTCCC--------------------
TCVGLERSCRNTHSCREGRCLCHGFCPTPP--TTVTLA-ALFNIR-------------------------
VVVGLELGCRNTSSCRDGRCLCHGSCPLAPQSEADVLLHAVINA-QNCCCSP-TCSGVGRPTTTSNLLPD
-----------------------------------TLA-ALFNIRNECCCAPWTAEGTS-----------
---GLERSCRNTRSCREGRCLCHGWCPTPP----------------------------------------
---GLERSCRNTHSCREGRCLCHGLCPTPP----------------------------------------
VCVGLERSCRNTHSCREGRCLCHGFCPSPP----------------------------------------
TCVGLERSCRNTHSCREGRCLCHGLCPSPP----------------------------------------
---GLERSCRNTRSCREGRCLCHGFCPTPP----------------------------------------
--VGLERSCRNTHTVREGRCLCHGLCPSPP----------------------------------------
---------------------------------TV-LAHA------------------------------
------------------------------------LAHA------------------------------
----------------------------------VAIAS-------------------------------
----------------------------------VTLAH-------------------------------
----------------------------------LTLAH-------------------------------
----LERSCRNTH-------LCHGFCPS------------------------------------------
----------------------------------VTLAH-------------------------------
--------------------LCHGFCPS------------------------------------------
---------------------------------------------------PWT----------------
--VGLELGCRNTSSCRDGRCY-------------------------------------------------
---GIERGCRTTAGCGDGRCMCHG----------------------------------------------
-----------------------GFCPT------------------------------------------
----------------------------------------------DCCC--------------------
----------------------------------------------------------------------
--VGLERSCRNTH---------------------------------------------------------
TCL-------------------------------------------------------------------
--VGLERSCRNTQ---------------------------------------------------------
-------------------CMCHG----------------------------------------------
-------------------CMCHG----------------------------------------------
--IGLDRSCRNTH---------------------------------------------------------
</pre>
			</div>
			<div class="tab-pane" id="del">
				<textarea placeholder="Please provide each deleterious nsSNP on a new line in the format: [wild-type amino acid][position number][variant amino acid]"></textarea>
				<p></p>
				<p>For example:</p>
<pre class="example">
C2Y
V3E
G4R
L5F
E6K
R7C
R7S
S8I
C9Y
R10Q
R10W
N11H
T12I
N13T
S14I
C15F
R16C
E17D
G18V
R19T
C20R
L21V
C22S
H23P
G24R
F25L
C26F
P27R
T28N
P29L
P30L
L31R
T33M
V35E
A38D
R39H
A40S
R45G
C48R
C49R
C50R
P52T
W53R
T54M
G57E
T58M
S59I
R60C
P61R
T62M
T63M
T64I
Y65C
Q66H
R67G
L68R
P69L
</pre>
			</div>
			<div class="tab-pane" id="neut">
				<textarea placeholder="Please provide each neutral nsSNP on a new line in the format: [wild-type amino acid][position number][variant amino acid]"></textarea>
				<p>For example:</p>
<pre class="example">
A1T
R32K
I34T
I36T
I37T
R41Q
L42F
N43S
T44A
D46N
N47D
E51A
T55I
M56V
G70E
</pre>
			</div>
			<div class="tab-pane" id="novel">
				<textarea placeholder="Please provide each novel nsSNP on a new line in the format: [wild-type amino acid][position number][variant amino acid]"></textarea>
				<p>For example:</p>
<pre class="example">
C2L
V3G
G4C
L5E
A1I
R32T
I34K
I36V
</pre>
			</div>
			<div class="tab-pane" id="run">
				<h4>Sequence Alignment</h4>
				<pre rel="msa"></pre>
				<h4>Deleterious nsSNPs</h4>
				<pre rel="del"></pre>
				<h4>Neutral nsSNPs</h4>
				<pre rel="neut"></pre>
				<h4>Novel nsSNPs</h4>
				<pre rel="novel"></pre>
				<a id="goForIt" class="btn btn-primary" href="#">Run</a>
			</div>
			<div class="tab-pane" id="results">

<table id="resultsTemplate" class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>Variant</th>
			<th>Classification</th>
			<th>GM</th>
			<th></th>
			<th>C</th>
			<th>Normalised GM</th>
		</tr>
	</thead>
	<tbody>
	
	</tbody>
</table>

			</div>
			<div class="tab-pane" id="probability">
				<h3>Beta - caveat emptor</h3>
				<p>
					<strong>NB</strong> - the probability distributions used below are still in their preliminary stages and deviate slightly from optimal modelling of deleterious and neutral classification. For more information, see the supplement to the manuscript.
				</p>
				<p>The Normalised GM is provided in the final column of the results table and can be used to determine the post-test probability of deleterious classification. Provide a pre-test probability below and all novel nsSNPs will be updated (as described in the manuscript; Equation 8). A default probability of 0.5 (50%) is assumed.</p>
				<p>
					<label for="preTest">Pre-test probability of deleterious classification:</label>
					<input id="preTest" value="0.5" />
				<p>
				<div class="pull-left">
				
<table id="probabilityTable" class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>Variant</th>
			<th>Normalised GM</th>
			<th>Post-test Probability</th>
		</tr>
	</thead>
	<tbody>

	</tbody>
</table>

				</div>
				<div style="overflow: hidden; padding: 0px 10px;">
					<div id="plot" style="width: 500px; height: 500px;">
					
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
	
</div>

<div>
	<a name="download"></a>
	<div class="page-header">
		<h1>Download Source</h1>
	</div>
	<p>CompressGV is released under the GNU GPL v3. Source code (including this web interface) is available from the <a href="https://github.com/aschlosberg/CompressGV">GitHub repository</a>.</p>
</div>

<div>
	<a name="help"></a>
	<div class="page-header">
		<h1>Help</h1>
	</div>
	
<div class="accordion" id="questions">
	<div class="accordion-group">
		<div class="accordion-heading">
			<a class="accordion-toggle" data-toggle="collapse" data-parent="#questions" href="#interpret">
				How do I interpret results?
			</a>
		</div>
		<div id="interpret" class="accordion-body collapse">
			<div class="accordion-inner">
				CompressGV assesses the influence of MSA diversity on phenotype prediction using the deleterious and neutral nsSNPs provided; they are used to search for an optimal weighting for the diversity when calculating GM scores.
				
				<dl class="dl-horizontal">
					<dt>Classification</dt>
					<dd>Novel nsSNPs will be classified as deleterious (D) or neutral (N). nsSNPs with a known classification (i.e. those used to determine the diversity weighting) are tested in a leave-one-out cross-validation and classified as true (T) or false (F) positives (P) and negatives (N) in order to calculate the <a href="http://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve">ROC area under the curve</a>.</dd>
					<dt>GM / C</dt>
					<dd>GM is the Grantham Metric which is the focus of the CompressGV classifier. GM correlates positively with the probability of deleterious classification, although not in a linear fashion. C is the theoretically optimal cut-off for classification; a GM greater than C should be considered as likely deleterious and vice versa.</dd>
					<dt>Normalised GM</dt>
					<dd>As each gene and set of known deleterious / neutral variants will result in a different value of C it is not possible to directly compare GMs from different classifications. The normalised GM is transformed based on C such that it always has a cut-off of 0 and still correlates positively with the probability of deleterious classification.</dd>
				</dl>
				
				Work is under way to model the probability distribution of the Normalised GM. A <a href="./animation/index.html">graphical demonstration of the GM</a> is available although it does not incorporate the data compression component.
			</div>
		</div>
	</div>
	<div class="accordion-group">
		<div class="accordion-heading">
			<a class="accordion-toggle" data-toggle="collapse" data-parent="#questions" href="#api">
				Is there an API? How do I access this interface programmatically?
			</a>
		</div>
		<div id="api" class="accordion-body collapse">
			<div class="accordion-inner">
				Submit an HTTP POST request to <a id="runPHP" href="./run.php?format=text"><code>run.php?format=[text|json]</code></a> with the following parameters. Format examples can be found by viewing the relevant input sections in this interface.
				<dl class="dl-horizontal">
					<dt>msa</dt>
					<dd>Sequence alignment in FASTA or single-line format</dd>
					<dt>del</dt>
					<dd>Deleterious nsSNPs each on a new line (minimum 2)</dd>
					<dt>neut</dt>
					<dd>Neutral nsSNPs each on a new line (minimum 2)</dd>
					<dt>novel</dt>
					<dd>nsSNPs for classification each on a new line</dd>
				</dl>
			</div>
		</div>
	</div>
</div>
	
</div>

				</div>
			</div>
		</div>

		<script src="//code.jquery.com/jquery.js"></script>
		<script src="jquery.ba-hashchange.min.js"></script>
		<script src="CompressGV.js"></script>
		<script src="bootstrap/js/bootstrap.min.js"></script>
		<script src="//code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
		<script src="./animation/js/flot/jquery.flot.js"></script>
		<link href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css" rel="stylesheet" media="screen">
	</body>
</html>
